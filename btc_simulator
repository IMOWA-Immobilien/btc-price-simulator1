import streamlit as st
import matplotlib.pyplot as plt

# Titel
st.title("ðŸ§® Bitcoin-Preis-Simulator (in EUR)")
st.markdown("Passe die Marktkapitalisierung (in Billionen USD) und das BTC-Angebot an, um den theoretischen Preis pro Bitcoin in Euro zu berechnen.")

# EUR/USD-Wechselkurs (manuell oder spÃ¤ter automatisch abrufbar)
usd_to_eur = st.number_input("Aktueller USD â†’ EUR Wechselkurs:", value=0.92, step=0.01)

# Eingabefelder
market_caps = st.multiselect(
    label="WÃ¤hle die Marktkapitalisierung aus (in Billionen US-Dollar):",
    options=[1, 5, 10, 21, 50, 100, 200],
    default=[1, 10, 21, 100]
)

btc_supply = st.slider(
    label="Bitcoin im Umlauf (Anzahl):",
    min_value=15_000_000,
    max_value=21_000_000,
    value=21_000_000,
    step=100_000
)

st.markdown("---")

# Berechnung & Anzeige
import pandas as pd

def plot_btc_price(market_caps, btc_supply, usd_to_eur):
    prices_usd = [(cap * 1e12) / btc_supply for cap in market_caps]
    prices_eur = [price * usd_to_eur for price in prices_usd]
    scenarios = [f"{cap} Billionen USD" for cap in market_caps]

    # Linke Spalte: genaue Werte anzeigen
    col1, col2 = st.columns([1, 2])

    with col1:
        st.markdown("### ðŸ’¶ Preis pro Bitcoin in EUR")
        df = pd.DataFrame({
            "Marktkapitalisierung (Billionen USD)": market_caps,
            "Preis pro BTC (EUR)": [f"{eur:,.0f} â‚¬" for eur in prices_eur]
        })
        st.table(df)

    with col2:
        fig
